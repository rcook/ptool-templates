description: C++14 project using CMake

template-values:
  cmake_copyright: |
    ##################################################
    # Copyright (C) 2017, All rights reserved.
    ##################################################
  cpp_copyright: |
    //////////////////////////////////////////////////
    // Copyright (C) 2017, All rights reserved.
    //////////////////////////////////////////////////

template-filters:
  namespace: "lambda ctx, s: \"_\".join(ctx.tokenize(s))"

template-globals:
  namespace: "{{ project_name | namespace }}"

files:
- path: ../_shared/LICENSE
  output-path: LICENSE
- app/CMakeLists.txt
- app/main.cpp
- cmake/sanitizers.cmake
- cmake/threads.cmake
- path: lib/public/projectlib/Example.h
  output-path: lib/public/{{project_name}}lib/Example.h
- lib/CMakeLists.txt
- lib/Example.cpp
- script/build.cmd
- script/setup.cmd
- script/test.cmd
- test/CMakeLists.txt
- test/ExampleTest.cpp
- test/main.cpp
- .gitignore
- CMakeLists.txt
- README.md

commands:
- git init
- git remote add origin {{ project_name | git_url(git_server) }}
- git config user.name "{{author}}"
- git config user.email "{{author_email}}"
- git submodule add --depth 1 https://github.com/arsenm/sanitizers-cmake.git external/sanitizers-cmake
- git config --file .gitmodules submodule.external/sanitizers-cmake.shallow true
- git submodule add -b Catch1.x https://github.com/catchorg/Catch.git external/catch
- git config --file .gitmodules submodule.external/catch.shallow true
- git add .
- git-execute-attribute:
    path: script/build.cmd
- git-execute-attribute:
    path: script/setup.cmd
- git-execute-attribute:
    path: script/test.cmd
- git-symlink:
    source-path: script/build.cmd
    target-path: script/build
- git-symlink:
    source-path: script/setup.cmd
    target-path: script/setup
- git-symlink:
    source-path: script/test.cmd
    target-path: script/test
