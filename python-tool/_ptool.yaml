description: Simple Python tool with virtual environment

template-values:
  py_copyright: |
    ##################################################
    # Copyright (C) 2017, All rights reserved.
    ##################################################

template-globals:
  module_name: "{{ project_name | replace(\"_\", \"\") | replace(\"-\", \"\") }}"

files:
- path: ../_shared/LICENSE
  output-path: LICENSE
- .gitignore
- path: config.py
  output-path: "{{module_name}}/config.py"
- README.md
- requirements.txt
- setup.py
- path: tests__init__.py
  output-path: "{{module_name}}/tests/__init__.py"
- path: __init__.py
  output-path: "{{module_name}}/__init__.py"
- path: __main__.py
  output-path: "{{module_name}}/__main__.py"

commands:
- git init
- git remote add origin {{ project_name | git_url(git_server) }}
- git config user.name "{{author}}"
- git config user.email "{{author_email}}"
- git add .
- git-execute-attribute:
    path: script/env.cmd
- git-execute-attribute:
    path: script/virtualenv.cmd
- git-symlink:
    source-path: script/env.cmd
    target-path: script/env
- git-symlink:
    source-path: script/virtualenv.cmd
    target-path: script/virtualenv
